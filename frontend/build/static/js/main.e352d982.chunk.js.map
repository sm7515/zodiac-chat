{"version":3,"sources":["components/register.js","components/login.js","components/colorSignMap.js","components/message.js","components/composer.js","components/messenger.js","components/home.js","App.js","actions/userActions.js","actions/errorAction.js","serviceWorker.js","reducers/userReducer.js","reducers/errorReducer.js","store.js","index.js"],"names":["Register","setError","error","className","onSubmit","e","name","currentTarget","value","pwd","password","dob","preventDefault","axios","post","then","window","location","catch","err","console","log","response","data","handleSubmit","htmlFor","type","required","max","Date","toJSON","slice","minlength","onClick","Login","setLogin","setName","setId","user","res","localStorage","setItem","id","getItem","colorSignMap","Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces","Message","border","this","props","sign","style","alignSelf","myName","flexDirection","borderLeft","borderRight","imgBg","time","timestamp","backgroundColor","src","img","alt","text","getHours","getMinutes","getSeconds","Component","Composer","submit","bind","socket","emit","target","autoComplete","autoFocus","Messenger","state","messages","logout","disconnect","io","connect","on","newMessages","push","setState","map","msg","i","key","reverse","Home","setImg","setSign","uid","useState","done","setDone","useEffect","Axios","get","userReducer","errorReducer","dispatch","payload","url","message","exact","path","to","Boolean","hostname","match","action","loggedin","store","createStore","combineReducers","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e352d982.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nexport default function Register({ setError, error }) {\n  const handleSubmit = (e) => {\n    const name = e.currentTarget.name.value;\n    const pwd = e.currentTarget.password.value;\n    const dob = e.currentTarget.dob.value;\n\n    e.preventDefault();\n    axios\n      .post(`http://linserv1.cims.nyu.edu:23203/register`, { name, pwd, dob })\n      .then(() => {\n        window.location = '/login';\n      })\n      .catch((err) => {\n        console.log(err.response.data);\n        setError(err.response.data);\n      });\n  };\n\n  return (\n    <div className='register'>\n      <form onSubmit={(e) => handleSubmit(e)} className='register-form'>\n        <label htmlFor='name'>username: </label>\n        <input type='text' name='name' required />\n        <label htmlFor='dob'>Date of Birth</label>\n        <input\n          type='date'\n          name='dob'\n          max={new Date().toJSON().slice(0, 10)}\n          required\n        />\n        <label htmlFor='password'>password</label>\n        <input type='password' name='password' minlength='6' required />\n\n        <button type='submit'>Register</button>\n        <button\n          onClick={() => {\n            window.location = '/login';\n          }}\n        >\n          Login\n        </button>\n      </form>\n      {error.error !== '' && <p className='error'>{error.error}</p>}\n    </div>\n  );\n}\n","import React from 'react';\nimport axios from 'axios';\n\nexport default function Login({\n  setError,\n  error,\n  setLogin,\n  setName,\n  setId,\n  user,\n}) {\n  const handleSubmit = (e) => {\n    const name = e.currentTarget.name.value;\n    const pwd = e.currentTarget.password.value;\n\n    e.preventDefault();\n    axios\n      .post(`http://linserv1.cims.nyu.edu:23203/login`, { name, pwd })\n      .then((res) => {\n        localStorage.setItem('uid', res.data.id);\n        setName(res.data.name);\n        setId(res.data.id);\n        setLogin(user.id === localStorage.getItem('uid'));\n        setError('');\n      })\n      .catch((err) => {\n        console.log(err);\n        err.response && setError(err.response.data);\n      });\n  };\n  return (\n    <div className='login'>\n      <form onSubmit={(e) => handleSubmit(e)} className='login-form'>\n        <label htmlFor='name'>username: </label>\n        <input type='text' name='name' required />\n\n        <label htmlFor='password'>password</label>\n        <input type='password' name='password' required />\n\n        <button type='submit'>Login</button>\n        <button\n          onClick={() => {\n            window.location = '/';\n          }}\n        >\n          Register\n        </button>\n      </form>\n      {error.error !== '' && <p className='error'>{error.error}</p>}\n    </div>\n  );\n}\n","const colorSignMap = {\n  Aries: '#ff5353',\n  Taurus: '#80c181',\n  Gemini: '#ffe153',\n  Cancer: '#c8c8c8',\n  Leo: '#ffa359',\n  Virgo: '#b08266',\n  Libra: '#fdbebc',\n  Scorpio: '#242424',\n  Sagittarius: '#c0adef',\n  Capricorn: '#666b66',\n  Aquarius: '#80bfea',\n  Pisces: '#a1e2c4',\n};\n\nexport default colorSignMap;\n","import React, { Component } from 'react';\nimport colorSignMap from './colorSignMap';\n\nclass Message extends Component {\n  render() {\n    let border = '10px solid' + colorSignMap[this.props.sign];\n\n    //Style messages based on whether or not they belong to us\n    let style = {\n      alignSelf: this.props.myName ? 'flex-end' : 'flex-start',\n      flexDirection: this.props.myName ? 'row-reverse' : 'row',\n      borderLeft: this.props.myName ? 'none' : border,\n      borderRight: this.props.myName ? border : 'none',\n    };\n\n    let imgBg = colorSignMap[this.props.sign];\n\n    let time = new Date(this.props.timestamp);\n    return (\n      <div className='Message' style={style}>\n        <div className='profile-img' style={{ backgroundColor: `${imgBg}` }}>\n          <img src={this.props.img} alt='zodiac-sign'></img>\n        </div>\n        <p>{this.props.text}</p>\n        <span className='timestamp'>\n          <span>{this.props.name}</span>\n          {time.getHours() + ':' + time.getMinutes() + ':' + time.getSeconds()}\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Message;\n","import React, { Component } from 'react';\n\nclass Composer extends Component {\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit(e) {\n    //When entering a message. Send it to the server and clear value the input\n    e.preventDefault();\n    this.props.socket.emit('new message', [\n      e.target.text.value,\n      this.props.user,\n    ]);\n    e.target.text.value = '';\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.submit} className='composer-container'>\n        <input\n          autoComplete='off'\n          name='text'\n          className='composer'\n          autoFocus={true}\n        ></input>\n      </form>\n    );\n  }\n}\n\nexport default Composer;\n","import React, { Component } from 'react';\nimport io from 'socket.io-client';\n\nimport Message from './message';\nimport Composer from './composer';\n\nclass Messenger extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messages: [],\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    localStorage.setItem('uid', '');\n    this.props.setLogin(false);\n    this.socket.disconnect();\n  }\n\n  componentDidMount() {\n    this.socket = io.connect('http://linserv1.cims.nyu.edu:23203/');\n\n    this.socket.on('connect', () => {\n      console.log(this.props.user);\n      this.socket.emit('request sign', [\n        this.props.user.sign,\n        this.props.user.name,\n        this.props.user.img,\n      ]);\n    });\n\n    this.socket.on('new message', (data) => {\n      let newMessages = this.state.messages.slice();\n      newMessages.push(data);\n      this.setState({ messages: newMessages });\n    });\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    let data = this.state.messages\n      .map((msg, i) => {\n        console.log(msg);\n        return (\n          <Message\n            myName={msg.name === this.props.user.name}\n            text={msg.text}\n            sign={msg.sign}\n            timestamp={msg.timestamp}\n            img={msg.img}\n            name={msg.name}\n            key={i}\n          />\n        );\n      })\n      .reverse();\n\n    return (\n      <div>\n        <button onClick={this.logout}>logout</button>\n        <div className='container'>\n          <div className='messages'>{data}</div>\n        </div>\n        <div className='text-area'>\n          <Composer socket={this.socket} user={this.props.user} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Messenger;\n","import React, { useEffect, useState } from 'react';\nimport Messenger from './messenger';\nimport Axios from 'axios';\n\nexport default function Home({ setLogin, user, setImg, setSign, setName }) {\n  let uid = localStorage.getItem('uid');\n  let [done, setDone] = useState(false);\n\n  useEffect(() => {\n    uid = localStorage.getItem('uid');\n    user.id = uid;\n    uid !== '' &&\n      Axios.get(`http://linserv1.cims.nyu.edu:23203/user?id=${uid}`)\n        .then((res) => {\n          user.name = res.data.name;\n          user.sign = res.data.sign;\n          user.img = res.data.img;\n          setImg(user.img);\n          setSign(user.sign);\n          setName(user.name);\n          console.log(user);\n          done = true;\n          setDone(done);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n  }, []);\n\n  return (\n    <div className='home'>\n      {user.sign !== '' && user.img !== '' && done && (\n        <Messenger user={user} setLogin={setLogin} />\n      )}\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport './App.css';\nimport { Route, BrowserRouter as Router, Redirect } from 'react-router-dom';\n\nimport { connect } from 'react-redux';\nimport {\n  setName,\n  setSign,\n  setLogin,\n  setImg,\n  setId,\n} from './actions/userActions';\nimport { setError } from './actions/errorAction';\n\nimport Register from './components/register';\nimport Login from './components/login';\nimport Home from './components/home';\n\nfunction App(props) {\n  let uid = localStorage.getItem('uid');\n  useEffect(() => {\n    uid = localStorage.getItem('uid');\n  }, [uid]);\n  return (\n    <div className='App'>\n      <Router>\n        <Route exact path='/'>\n          {localStorage.getItem('uid') !== props.user.id ? (\n            <Register setError={props.setError} error={props.error} />\n          ) : (\n            <Redirect to='/home' />\n          )}\n        </Route>\n\n        <Route exact path='/login'>\n          {props.user.id === '' ||\n          localStorage.getItem('uid') !== props.user.id ? (\n            <Login\n              setError={props.setError}\n              error={props.error}\n              setLogin={props.setLogin}\n              setName={props.setName}\n              setId={props.setId}\n              user={props.user}\n            />\n          ) : (\n            <Redirect to='/home' />\n          )}\n        </Route>\n\n        <Route exact path='/home'>\n          {uid ? (\n            <Home\n              setLogin={props.setLogin}\n              user={props.user}\n              setSign={props.setSign}\n              setImg={props.setImg}\n              setId={props.setId}\n              setName={props.setName}\n            />\n          ) : (\n            <Redirect to='/login' />\n          )}\n        </Route>\n      </Router>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return { user: state.userReducer, error: state.errorReducer };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setName: (name) => {\n      dispatch(setName(name));\n    },\n    setId: (id) => {\n      dispatch(setId(id));\n    },\n    setSign: (sign) => {\n      dispatch(setSign(sign));\n    },\n    setImg: (url) => {\n      dispatch(setImg(url));\n    },\n    setLogin: (uid) => {\n      dispatch(setLogin(uid));\n    },\n    setError: (msg) => {\n      dispatch(setError(msg));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","export function setName(name) {\n  return {\n    type: 'SET_NAME',\n    payload: name,\n  };\n}\n\nexport function setId(id) {\n  return {\n    type: 'SET_ID',\n    payload: id,\n  };\n}\n\nexport function setSign(sign) {\n  return {\n    type: 'SET_SIGN',\n    payload: sign,\n  };\n}\n\nexport function setLogin(bool) {\n  return {\n    type: 'SET_LOGIN',\n    payload: bool,\n  };\n}\n\nexport function setImg(url) {\n  return {\n    type: 'SET_IMG',\n    payload: url,\n  };\n}\n","export function setError(message) {\n  return {\n    type: 'SET_ERROR',\n    payload: message,\n  };\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const userReducer = (\n  state = { name: '', sign: '', img: '', id: '' },\n  action,\n) => {\n  switch (action.type) {\n    case 'SET_NAME':\n      state = { ...state, name: action.payload };\n      break;\n\n    case 'SET_ID':\n      state = { ...state, id: action.payload };\n      break;\n\n    case 'SET_SIGN':\n      state = { ...state, sign: action.payload };\n      break;\n\n    case 'SET_IMG':\n      state = { ...state, img: action.payload };\n      break;\n\n    case 'SET_LOGIN':\n      state = { ...state, loggedin: action.payload };\n      break;\n    default:\n      break;\n  }\n  return state;\n};\n\nexport default userReducer;\n","const errorReducer = (state = { error: '' }, action) => {\n  if (action.type === 'SET_ERROR') {\n    state = { ...state, error: action.payload };\n  }\n  return state;\n};\n\nexport default errorReducer;\n","import { createStore, combineReducers } from 'redux';\nimport userReducer from './reducers/userReducer';\nimport errorReducer from './reducers/errorReducer';\n\nconst store = createStore(combineReducers({ userReducer, errorReducer }));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}